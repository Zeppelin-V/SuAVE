PivotViewer.Models.Collection=Object.subClass({init:function(){this.name="",this.brandImage="",this.categories=[],this.items=[],this.base="",this.baseNoProxy="",this.imageBase="",this.copyrightName="",this.copyrightHref="",this.maxRelatedLinks=0,this._categoriesByName=[],this._itemsById=[];var a=this,b=0,c=0;this.categories.push=function(d){d.index=b++,d.visIndex=d.isFilterVisible?c++:-1,this.__proto__.push.apply(a.categories,[d]),a._categoriesByName[d.name]=d,a._categoriesByName[d.name.toLowerCase()]=d},this.items.push=function(b){this.__proto__.push.apply(a.items,[b]),a._itemsById[b.id]=b}},getItemById:function(a){var b=this._itemsById[a];return void 0==b?null:b},getCategoryByName:function(a){var b=this._categoriesByName[a];return void 0==b?null:b}}),PivotViewer.Models.Category=Object.subClass({init:function(a,b,c){this.name=a,this.type=null!=b&&void 0!=b?b:PivotViewer.Models.FacetType.String,this.isFilterVisible=null==c||void 0==c||c,this.recount=!0,this.uiInit=!1,this.doFilter=!0,this.datetimeBuckets=[],this.customSort=null,this.labels=[],this.isMultipleItems=!1},getValueLabel:function(a){if(this.type==PivotViewer.Models.FacetType.Ordinal){var b=this.labels[a];return void 0==b?a:b}return a},isString:function(){return this.type==PivotViewer.Models.FacetType.String},isLongString:function(){return this.type==PivotViewer.Models.FacetType.LongString},isNumber:function(){return this.type==PivotViewer.Models.FacetType.Number},isOrdinal:function(){return this.type==PivotViewer.Models.FacetType.Ordinal},isDateTime:function(){return this.type==PivotViewer.Models.FacetType.DateTime},isLink:function(){return this.type==PivotViewer.Models.FacetType.Link},isLocation:function(){return this.type==PivotViewer.Models.FacetType.Location}}),PivotViewer.Models.CategorySort=Object.subClass({init:function(a){this.name=a,this.sortValues=[]}}),PivotViewer.Models.Item=Object.subClass({init:function(a,b,c,d){this.description=null,this.img=a,this.id=b,this.href=c,this.name=d,this.facets=[],this._facetByName=[],this.links=[];var e=this;this.facets.push=function(a){this.__proto__.push.apply(e.facets,[a]),e._facetByName[a.name]=a}},getFacetByName:function(a){return this._facetByName[a]}}),PivotViewer.Models.ItemLink=Object.subClass({init:function(a,b){this.name=a,this.href=b}}),PivotViewer.Models.Facet=Object.subClass({init:function(a,b){this.name=a,void 0===b?this.values=[]:this.values=b},addValue:function(a){this.values.push(a)}}),PivotViewer.Models.FacetValue=Object.subClass({init:function(a,b){this.value=a,void 0==b?this.label=a:this.label=b,this.href=""}}),PivotViewer.Models.Bucket=Object.subClass({init:function(a,b,c,d){this.startRange=a,this.startLabel=b,this.endRange=c?c:a,this.endLabel=d?d:b,this.ids=[],this.values=[],this.tiles=[]},addTile:function(a){this.tiles.push(a),this.ids[a.item.id]=!0},addValue:function(a){this.values.push(a)},getLabel:function(){return this.startLabel==this.endLabel?this.startLabel:this.startLabel+" - "+this.endLabel},equals:function(a){return null!=a&&0!=this.tiles.length&&this.tiles.length==a.tiles.length&&this.tiles[0].item.id==a.tiles[0].item.id&&this.tiles[this.tiles.length-1].item.id==a.tiles[a.tiles.length-1].item.id},hasValue:function(a){return _.contains(this.values,a)}}),PivotViewer.Models.DateTimeInfo=Object.subClass({init:function(a,b,c){this.name=a,this.start=b,this.end=c,this.items=[]}}),PivotViewer.Models.FacetType={String:"String",LongString:"LongString",Number:"Number",DateTime:"DateTime",Link:"Link",Ordinal:"Ordinal",Location:"Location"};
